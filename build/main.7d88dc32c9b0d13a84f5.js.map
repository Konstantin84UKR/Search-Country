{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/main.js","webpack:///./js/msg.js","webpack:///./index.js","webpack:///./template/country.hbs","webpack:///./template/countryList.hbs"],"names":["refs","countryInput","document","querySelector","mainDiv","renderResult","data","innerHTML","console","log","length","country","template_country","name","capital","region","population","flag","countryArr","map","element","li_country","template_countryList","count","info","title","text","f","ms","isCooldown","search","this","value","fetch","toLowerCase","then","response","json","status","error","message","errorMsg","catch","apply","arguments","setTimeout","addEventListener","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.7d88dc32c9b0d13a84f5.js","sourcesContent":["const refs = {\r\n  countryInput: document.querySelector('#countryInput'),\r\n  mainDiv: document.querySelector('#mainDiv'),\r\n};\r\n\r\nexport default refs;\r\n","import refs from './refs.js';\r\nimport template_countryList from '../template/countryList.hbs';\r\nimport template_country from '../template/country.hbs';\r\nimport { errorMsg, infoMsg } from './msg.js';\r\n\r\nfunction renderResult(data) {\r\n  refs.mainDiv.innerHTML = '';\r\n  console.log(data);\r\n  // Если найден один вариант то рисуем его\r\n  if (data.length == 1) {\r\n    //\r\n    //\r\n    let country = template_country({\r\n      name: data[0].name,\r\n      name: data[0].name,\r\n      capital: data[0].capital,\r\n      region: data[0].region,\r\n      population: data[0].population,\r\n      flag: data[0].flag,\r\n    });\r\n    //\r\n    //\r\n    refs.mainDiv.innerHTML = country;\r\n    //\r\n  } else if (data.length < 10) {\r\n    // Если найдено от 2 до 10 то выводис список\r\n    const countryArr = data.map(element => {\r\n      return element.name;\r\n    });\r\n    //\r\n    let li_country = template_countryList({\r\n      country: countryArr,\r\n    });\r\n    //\r\n    refs.mainDiv.innerHTML = li_country;\r\n    //\r\n  } else {\r\n    // если более 10 вариантов выподим инфо сообшение\r\n    infoMsg(data.length);\r\n  }\r\n}\r\nfunction fetchCountry() {\r\n  if (this.value.length > 1)\r\n    fetch(`https://restcountries.eu/rest/v2/name/${this.value.toLowerCase()}`)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        if (data.status == '404') {\r\n          console.log('ERROR 404');\r\n          errorMsg(data);\r\n        } else {\r\n          renderResult(data);\r\n        }\r\n      })\r\n      .catch(data => {\r\n        console.log(data);\r\n      });\r\n}\r\nfunction debounce(f, ms) {\r\n  // нашел реализацию в интеренете\r\n  let isCooldown = false;\r\n\r\n  return function() {\r\n    if (isCooldown) return;\r\n\r\n    f.apply(this, arguments);\r\n\r\n    isCooldown = true;\r\n    setTimeout(() => (isCooldown = false), ms);\r\n  };\r\n}\r\n\r\nexport { debounce, fetchCountry };\r\n","import refs from './refs.js';\r\nimport { error, info } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport * as Confirm from '@pnotify/confirm';\r\nimport '@pnotify/confirm/dist/PNotifyConfirm.css';\r\n\r\nfunction errorMsg(data) {\r\n  refs.mainDiv.innerHTML = '';\r\n  error({\r\n    title: 'Error!',\r\n    text: `status ${data.status} message ${data.message}`,\r\n  });\r\n}\r\n\r\nfunction infoMsg(count) {\r\n  refs.mainDiv.innerHTML = '';\r\n  info({\r\n    title: `Сервер вернул ${count} варианта`,\r\n    text: `Необходимо сделать запрос более специфичным.`,\r\n  });\r\n}\r\n\r\nexport { errorMsg, infoMsg };\r\n","import './styles.css';\r\nimport refs from './js/refs.js';\r\nimport { debounce, fetchCountry } from './js/main.js';\r\n\r\nconst search = debounce(fetchCountry, 500);\r\nrefs.countryInput.addEventListener('input', search);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1> country: \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n<h3> capital: \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</h3>\\r\\n<h2> region: \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"region\") : depth0), depth0))\n    + \"</h2>\\r\\n<h3> population: \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</h3>\\r\\n<img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\">\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li>\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"country_list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"country\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}